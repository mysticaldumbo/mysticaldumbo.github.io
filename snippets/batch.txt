@echo off
REM Disable command echoing

REM Prompt the user to enter the source directory
set /p SOURCE_DIR=Please enter the source directory path: 

REM Set the backup directory
set BACKUP_DIR=C:\Backup

REM Create a timestamp for the backup folder
set TIMESTAMP=%DATE:~-4%-%DATE:~4,2%-%DATE:~7,2%_%TIME:~0,2%-%TIME:~3,2%-%TIME:~6,2%
REM Replace spaces with zeros in the timestamp
set TIMESTAMP=%TIMESTAMP: =0%

REM Create the backup directory if it doesn't exist
if not exist "%BACKUP_DIR%" (
    mkdir "%BACKUP_DIR%"
)

REM Create a new directory for this backup
set NEW_BACKUP_DIR=%BACKUP_DIR%\Backup_%TIMESTAMP%
mkdir "%NEW_BACKUP_DIR%"

REM Copy all files from the source directory to the new backup directory
xcopy "%SOURCE_DIR%\*" "%NEW_BACKUP_DIR%" /E /I /H /Y

REM Print a message indicating the backup is complete
echo Backup of %SOURCE_DIR% completed successfully!
echo Backup saved in %NEW_BACKUP_DIR%

REM Pause the script to keep the window open
pause